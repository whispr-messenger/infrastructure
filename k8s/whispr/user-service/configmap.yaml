apiVersion: v1
kind: ConfigMap
metadata:
  name: user-service-config
  namespace: whispr-prod
  labels:
    app: user-service
    tier: backend
    environment: production
data:
  # Node environment
  NODE_ENV: "production"
  PORT: "3001"
  HTTP_PORT: "3001"
  GRPC_PORT: "50051"

  # Database Configuration
  DB_TYPE: "postgres"
  DB_HOST: "postgresql.postgresql.svc.cluster.local"
  DB_PORT: "5432"
  DB_NAME: "user_service_db"
  DB_MIGRATIONS_RUN: "false"
  DB_SYNCHRONIZE: "false"
  DB_LOGGING: "false"
  DB_SSL: "false"

  # Redis Configuration
  REDIS_HOST: "redis.redis.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_DB: "1"

  # Redis Sentinel Configuration
  REDIS_MODE: "sentinel"
  REDIS_SENTINELS: "redis.redis.svc.cluster.local:26379"
  REDIS_MASTER_NAME: "mymaster"

  # gRPC Services
  USER_SERVICE_GRPC_URL: "user-service:50052"
  MEDIA_SERVICE_GRPC_URL: "media-service:50053"
  
  API_PREFIX: "/api/v1"
  ENABLE_CORS: "false"
  SWAGGER_ENABLED: "true"
  LOG_LEVEL: "info"
  METRICS_ENABLED: "true"
  HEALTH_CHECK_TIMEOUT: "5000"
  SERVICE_NAME: "user-service"
  SERVICE_VERSION: "1.0.0"